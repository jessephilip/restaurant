<!DOCTYPE html>
<html lang="en">

<head>
	<title>Hotty Puhtotty Restaurant</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
	<div class="container">
		<header>
			<h1><i class="fa fa-fire"></i>Hot Restaurant</h1>
			<hr>
			<h2>Make your reservation</h2>
			<span>
                <a href="view" class="btn blue waves-effect waves-light"><i class="fa fa-th-list"></i> View Tables</a>
                <a href="/" class="btn waves-effect waves-light"><i class="fa fa-home"></i></a>
            </span>
			<br>
		</header>
		<br>
		<section>
			<header>
				<h6>Table Reservation</h6>
			</header>
			<article>
				<div class="input-field">
					<input id="name" type="text" class="validate">
					<label for="name">Name</label>
				</div>
				<div class="input-field">
					<input id="phoneNumber" type="text" class="validate">
					<label for="phoneNumber">Phone Number</label>
				</div>
				<div class="input-field">
					<input id="email" type="text" class="validate">
					<label for="email">Email</label>
				</div>
				<div class="input-field">
					<input id="unique" type="text" class="validate">
					<label for="unique">Unique ID</label>
				</div>
				<a id="submit" class="btn waves-effect waves-light" type="submit" name="action">Submit
    <i class="fa fa-send"></i></a>
			</article>
		</section>
		<br>
		<footer>
			<span>
				<a href="api/tables" id="table">API Table Link</a>
				<a>|</a>
				<a href="api/waiting" id="wait">API Wait List</a>
			</span>
		</footer>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
	<script>
		$("#submit").on("click", function(e) {
			e.preventDefault();
			var reservation = {
				name: $("#name").val().trim(),
				phone: $("#phoneNumber").val().trim(), 
				email: $("#email").val().trim(), 
				unique: $("#unique").val().trim()
			};

			$.post("http://localhost:3000/api/new", reservation).done(function(data) {
				console.log(data);
				alert("Adding reservation ...");
			});

			$("#name").val("");
			$("#phoneNumber").val(""); 
			$("#email").val(""); 
			$("#unique").val("");

		});
	</script>
</body>

</html>